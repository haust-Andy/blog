---
title: C++多进程与多线程
date: 2023-07-18 09:31:54
tags: 多线程 多进程
categories: C++
---

## 进程是资源分配的基本单位，是程序流的基本单位
## 进程ID
无论进程是如何创建的，所有进程都会从操作系统分配到 ID。此 ID 称为"进程 ID"，其
值为大于 2 的整数。1 要分配给操作系统启动后的（用于协助操作系统）首个进程，因此用
户进程无法得到 ID 值 1。
通过 ps au 指令可以查看当前运行的所有进程。令同时可以列
出 PID（进程 ID）。通过指定 a 和 u 参数列出了所有进程详细信息。
## 通过调用 fork 函数创建进程
>#include <unistd.h> &emsp; pid_t fork(void);   成功时返回进程 ID，失败时返回-1。

fork 函数将创建调用的进程副本。也就是说，并非根据完全不同的程序创建进程，
而是复制正在运行的、调用 fork 函数的进程。另外，两个进程都将执行 fork 函数调用
后的语句（准确地说是在 fork 函数返回后）。但因为通过同一个进程、复制相同的内
存空间，之后的程序流要根据 fork 函数的返回值加以区分。即利用 fork 函数的如下特
点区分程序执行流程。 <br>
父进程∶fork 函数返回子进程 ID。<br>
子进程∶fork 函数返回 0。 <br>
此处"父进程（" Parent Process）指原进程，即调用 fork 函数的主体，而"子进程（" Child
Process）是通过父进程调用 fork 函数复制出的进程。